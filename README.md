
# Бот для выдачи заданий

Этот проект представляет собой Telegram-бота, который выдает задания пользователям в групповых чатах. Пользователи могут получать задания, отправлять отчеты о выполнении и отслеживать свою статистику.

## Функциональность

- Выдача случайных заданий пользователям.
- Отслеживание выполнения заданий и статистики пользователей.
- Возможность администраторам добавлять и удалять задания.
- Ежедневная рассылка напоминаний о заданиях в групповые чаты.

## Установка

### Требования

- Python 3.7 или выше
- Poetry (для управления зависимостями)

### Установка зависимостей

1. Клонируйте репозиторий:

   ```
   git clone https://github.com/Foxius/bastet
   cd bastet
   ```

2. Убедитесь, что Poetry установлен. Если нет, установите его:

   ```
   pip install poetry
   ```

3. Установите зависимости проекта с помощью Poetry:

   ```
   poetry install
   ```

### Настройка

1. Создайте файл `config.py` в корневой директории проекта и добавьте следующие переменные:

   ```
   TOKEN = 'YOUR_BOT_TOKEN'  # Токен вашего бота
   DATABASE_NAME = 'database.db'  # Имя файла базы данных
   CHATS = ['CHAT_ID_1', 'CHAT_ID_2']  # Список идентификаторов чатов для рассылки заданий
   ADMIN_IDS =[123456789]  # Список идентификаторов администраторов
   ```

2. Инициализируйте базу данных, чтобы создать необходимые таблицы:

   ```
   from database import create_connection, create_tables

   conn = create_connection()
   create_tables(conn)
   conn.close()
   ```

## Использование

1. Активируйте виртуальное окружение Poetry:

   ```
   poetry shell
   ```

2. Запустите бота:

   ```
   python main.py
   ```

3. В Telegram найдите вашего бота и нажмите "Старт", чтобы начать взаимодействие.

## Команды

- `/start` - Запустить взаимодействие с ботом.
- `/task` - Получить случайное задание.
- `/addtask` - Добавить новое задание (доступно только администраторам).
- `/deletetask` - Удалить задание (доступно только администраторам).
- `/stats` - Показать статистику пользователя.

## Структура проекта

```
project/
├── database.py          # Работа с базой данных SQLite.
├── handlers.py          # Обработчики команд и событий Telegram.
├── loader.py            # Инициализация бота и диспетчера.
├── scheduler.py         # Планировщик для ежедневных задач.
├── main.py              # Основной файл запуска бота.
├── config.py            # Конфигурация проекта (токен, чаты, админы).
├── README.md            # Документация проекта.
├── pyproject.toml       # Конфигурация Poetry (зависимости).
└── database.db          # Файл базы данных SQLite (создается автоматически).
```

## Лицензия

Этот проект лицензирован под MIT License. Для получения дополнительной информации смотрите файл [LICENSE](LICENSE).

## Контрибьюция

Если вы хотите внести изменения в проект, пожалуйста, создайте форк репозитория и отправьте пулл-запрос с вашими изменениями.

---

### Полезные команды Poetry

- **Установка зависимостей:**  
  ```
  poetry install
  ```

- **Добавление новой зависимости:**  
  ```
  poetry add <package-name>
  ```

- **Удаление зависимости:**  
  ```
  poetry remove <package-name>
  ```

- **Запуск скрипта в виртуальном окружении:**  
  ```
  poetry run python main.py
  ```


### Примечания:
1. Замените `YOUR_BOT_TOKEN`, `CHAT_ID_1`, `CHAT_ID_2`, и `123456789` на соответствующие значения для вашего бота и чатов.
2. Убедитесь, что файл `pyproject.toml` содержит все зависимости вашего проекта (например, `aiogram`, `sqlite3`).
3. Если у вас есть дополнительные файлы или модули, добавьте их описание в раздел "Структура проекта".
